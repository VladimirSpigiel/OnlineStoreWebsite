{% extends "SruCoreBundle:FrontOffice:layout.html.twig" %}
{% trans_default_domain 'FOSUserBundle' %}

{% block content %}
    {{ parent() }}

    <div class="row">
        <form data-abide action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register large-6 columns">

            <div class="">
                <h2>CRÉER VOTRE COMPTE</h2>
                <hr>


                <div class="form-group">
                    {% if form_errors(form.lastname) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.lastname) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}
                    {{ form_label(form.lastname, 'Nom') }}
                    {{ form_widget(form.lastname, {'attr' : {'class' : 'form-control'} }) }}
                    <small class="error">Le nom ne doit pas être vide.</small>

                </div>

                <div class="form-group">
                    {% if form_errors(form.firstname) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.firstname) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}
                    {{ form_label(form.firstname, 'Prénom') }}
                    {{ form_widget(form.firstname, {'attr' : {'class' : 'form-control'} }) }}
                    <small class="error">Le prénom ne doit pas être vide.</small>

                </div>


                <div class="form-group">
                    {% if form_errors(form.email) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.email) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}
                    {{ form_label(form.email, 'Email') }}
                    {{ form_widget(form.email, {'attr' : {'class' : 'form-control'} }) }}
                    <small class="error">L'adresse mail doit être au format : prefixe@domaine.com</small>

                </div>

                <div class="form-group">
                    {% if form_errors(form.plainPassword.first) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.plainPassword.first) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}
                    {{ form_label(form.plainPassword.first, 'Mot de passe') }}
                    {{ form_widget(form.plainPassword.first, {'attr' : {'class' : 'form-control'} }) }}
                    <small class="error">Le mot de passe ne doit pas être vide</small>
                </div>

                <div class="form-group">
                    {% if form_errors(form.plainPassword.second) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.plainPassword.plainPassword.second) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}
                    {{ form_label(form.plainPassword.second, 'Vérification du mot de passe') }}
                    {{ form_widget(form.plainPassword.second, {'attr' : {'class' : 'form-control'} }) }}
                    <small class="error">La vérification ne doit pas être vide</small>
                </div>

                <div class="form-group">
                    {% if form_errors(form.cg) %}
                        <div data-alert class="alert-box alert text-center">{{ form_errors(form.plainPassword.plainPassword.second) }}
                            <a href="#" class="close">&times;</a>
                        </div>
                    {% endif %}


                    <label> J'ai lu et accepte les <a href="{{ path('sru_core_conditions') }}" target="_blank"><b>conditions générales</b></a>.</label>
                    <div class="switch">
                        {{ form_widget(form.cg, {'attr' : {'class' : 'form-control'} }) }}
                        {{ form_label(form.cg, '') }}
                    </div>
                    <small class="error">Vous devez accepter les conditions générales</small>

                </div>
                {{ form_rest(form) }}
                <div>
                    <input type="submit" value="{{ 'registration.submit'|trans }}" class="button" />
                </div>

            </div>

        </form>

        {{ render(controller('FOSUserBundle:Security:login')) }}
    </div>

{% endblock %}


{% block javascripts %}
{{ parent() }}

    <script>
        $(function(){
            $('.test').click(function(e){

            })
        })
    </script>

{% endblock %}